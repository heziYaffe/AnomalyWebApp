(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{391:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},510:function(e,t,n){},511:function(e,t,n){},702:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(20),r=n.n(s),o=(n(505),n(482)),i=n(147),u=n(132),l=n(64),j=n.n(l),d=n(134),b=n(22),f=(n(506),n(481)),h=(n(391),n(8));var O=function(e){var t=e.addFile,n=e.showB,a=e.closeA;return Object(h.jsx)("div",{className:"FileDropContainer",children:Object(h.jsx)(f.a,{className:"FileDrop",onDrop:function(e){return function(e){t(e),n(!0),a()}(e)},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(h.jsx)("section",{children:Object(h.jsxs)("div",Object(u.a)(Object(u.a)({},t()),{},{children:[Object(h.jsx)("input",Object(u.a)({},n())),Object(h.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}})})};var p=function(e){var t=e.model,n=e.testModel,a=e.showTD,c=e.activateAnomalies;return Object(h.jsxs)("div",{onClick:function(e){n(t).then((function(e){c(e)})),a(!1)},children:[Object(h.jsxs)("h4",{children:["Name: ",t.Name]}),Object(h.jsxs)("p",{children:["Type: ",t.type]}),Object(h.jsxs)("p",{children:["Ready To Use: ",t.is_Ready.toString()]})]})},m=function(e){var t=e.models,n=e.testModel,a=e.showTD,c=e.activateAnomalies;return Object(h.jsx)("div",{className:"TestModelContainer",children:t.map((function(e,t){return Object(h.jsx)(p,{model:e,testModel:n,showTD:a,activateAnomalies:c},t)}))})},v=function(e){var t=e.text,n=e.type,a=e.setActiveButton,c=e.name,s=e.showTD,r=e.showAD;return Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:c,onClick:function(e){console.log(n),a(n),"Train"===n&&(s(!1),r(!0)),"Test"===n&&(r(!1),s(!0))},children:t})})},x=function(e){var t=e.addModel,n=e.showAD,c=Object(a.useState)(""),s=Object(b.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)(""),u=Object(b.a)(i,2),l=u[0],j=u[1];return Object(h.jsxs)("form",{className:"add-form",onSubmit:function(e){if(e.preventDefault(),r)if("Linear"==l||"NonLinear"==l){var a=Math.floor(1e5*Math.random())+1;t({id:a,Name:r,is_Ready:!1,type:l}),o(""),j(""),n(!1)}else alert("Invalid Model Type.Current Models in System : Linear , NonLinear");else alert("Please Add A Name")},children:[Object(h.jsxs)("div",{className:"form-control",children:[Object(h.jsx)("label",{children:"Model Name"}),Object(h.jsx)("input",{className:"ModelName",type:"text",placeholder:"Add Model Name",value:r,onChange:function(e){o(e.target.value)}})]}),Object(h.jsxs)("div",{className:"form-control",children:[Object(h.jsx)("label",{children:"Model Type"}),Object(h.jsx)("input",{className:"ModelType",type:"text",placeholder:"Add Model Type",value:l,onChange:function(e){j(e.target.value)}})]}),Object(h.jsx)("input",{className:"SaveButton",type:"submit",value:"Save Model"})]})},y=function(e){var t=e.model;return Object(h.jsxs)("div",{className:"Model",children:[Object(h.jsx)("h4",{children:"Name:  ".concat(t.Name)}),Object(h.jsx)("p",{children:"Type:  ".concat(t.type," ")}),Object(h.jsx)("p",{children:"Ready To Use: ".concat(t.is_Ready.toString())})]})},N=function(e){var t=e.models;return Object(h.jsx)("div",{className:"ModelList",children:t.map((function(e,t){return Object(h.jsx)(y,{model:e},t)}))})};n(510);var A=function(e){var t=e.models,n=e.addModel,c=e.addFile,s=e.testModel,r=e.activateAnomalies,o=e.closeA,u=Object(a.useState)(""),l=Object(b.a)(u,2),j=l[0],d=l[1],f=Object(a.useState)(!1),p=Object(b.a)(f,2),y=p[0],A=p[1],g=Object(a.useState)(!1),T=Object(b.a)(g,2),M=T[0],S=T[1],D=Object(a.useState)(!1),C=Object(b.a)(D,2),w=C[0],E=C[1],R=function(e){d(e),console.log(e)},B=function(e){A(e),F(!1)},k=function(e){S(e),F(!1)},F=function(e){E(e)};return Object(a.useEffect)((function(){"Train"===j&&(k(!0),F(!1)),"Test"===j&&(B(!0),F(!1))}),[j]),Object(h.jsxs)("div",{className:"SubMaster",children:[Object(h.jsx)("div",{className:"Models",children:Object(h.jsx)(N,{models:t})}),Object(h.jsx)("div",{className:"AddModel",children:M&&Object(h.jsx)(x,{addModel:n,showAD:k})}),Object(h.jsxs)("div",{className:"Buttons",children:[w&&Object(h.jsx)(v,{name:"TrainButton",text:"Train",type:"Train",setActiveButton:R,activeButton:j,showTD:B,showAD:k}),w&&Object(h.jsx)(v,{name:"TestButton",text:"Test",type:"Test",setActiveButton:R,activeButton:j,showTD:B,showAD:k})]}),Object(h.jsx)("div",{className:"TestDisplay",children:y&&Object(h.jsx)(m,{models:t,testModel:s,showTD:B,activateAnomalies:r})}),Object(h.jsx)(O,Object(i.a)({activeButton:j,addFile:c,showB:F,closeA:o,showTD:B},"activeButton",j))]})},g=n(461);n(511);function T(e){return Object(h.jsx)("nav",{className:"navbar",children:Object(h.jsx)("ul",{className:"navbar-nav",children:e.children})})}function M(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],s=n[1];return Object(h.jsxs)("li",{className:"nav-item",children:[Object(h.jsx)("a",{href:"#",className:"icon-button",onClick:function(){return s(!c)},children:e.icon}),c&&e.children]})}function S(e){var t=function(){return e.dataARRColumns};function n(e){var t=Object(a.useState)([]),n=Object(b.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),o=Object(b.a)(r,2),i=o[0],u=o[1];Object(a.useEffect)((function(){s(e.getDataColumns)}),[e.dataARRColumn]),Object(a.useEffect)((function(){l()}),[c]),Object(a.useEffect)((function(){i.length}),[i]);var l=function(){var t=[];c.forEach((function(n){if(n[0]!==e.dataARRColumn[0]){var a=j(e.dataARRColumn[1],n[1]);t.push(a)}})),u(t)},j=function(e,t){var n=0,a=[];return e.forEach((function(e){a.push({x:e,y:t[n]}),n++})),a};return Object(h.jsxs)("a",{href:"#",className:"menu-item",onClick:function(){e.addGraphData(i)},children:[e.dataARRColumn[0],"   ",e.icon]})}return Object(h.jsx)("div",{className:"dropdown",children:e.dataARRColumns.map((function(a,c){return Object(h.jsx)(n,{icon:"\ud83d\udcc8",dataARRColumn:a,getDataColumns:t,addGraphData:e.addGraphData},c)}))})}var D=function(e){var t=e.dataColumns,n=e.addGraphData,c=Object(a.useState)(!1),s=Object(b.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)([]),u=Object(b.a)(i,2),l=u[0],j=u[1];Object(a.useEffect)((function(){}),[l]),Object(a.useEffect)((function(){0!==Object.keys(t).length&&(d(t),o(!0))}),[t]);var d=function(e){var t=[];for(var n in e)t.push([n,e[n]]);j(t)};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(T,{children:r&&Object(h.jsx)(M,{icon:"\ud83d\udcc8",children:Object(h.jsx)(S,{dataARRColumns:l,addGraphData:n})})})})},C=n(726),w=n(730),E=n(476),R=n(477),B=n(247),k=n(202),F=n(199),I=n(483),G=function(e){var t=e.displayGraphData;Object(a.useEffect)((function(){}),[t]);var n=function(e){if(void 0==e)return[];var t=[],n=0;return e.forEach((function(e){n%100==0&&t.push(e),n++})),console.log(t),t},c=function(e){var t,a,c,s=[],r=[];return n(e).forEach((function(e){e.forEach((function(e){s.push(e.x),r.push(e.y)}))})),a=Math.max.apply(Math,s),t=Math.min.apply(Math,s),c=Math.max.apply(Math,r),[[t-1,a+1],[Math.min.apply(Math,r)-1,c+1]]};return Object(h.jsx)("div",{className:"GraphContainer",children:Object(h.jsxs)(C.a,{width:800,height:400,margin:{top:20,right:20,bottom:20,left:20},children:[Object(h.jsx)(w.a,{style:{color:"wheat"}}),Object(h.jsx)(E.a,{type:"number",dataKey:"x",name:"",unit:"",domain:c(t)[0]}),Object(h.jsx)(R.a,{type:"number",dataKey:"y",name:"",unit:"",domain:c(t)[1]}),Object(h.jsx)(B.a,{range:[50]}),Object(h.jsx)(k.a,{cursor:{strokeDasharray:"3 3"}}),Object(h.jsx)(F.a,{}),Object(h.jsx)(I.a,{name:"Attribute I",data:n(t[0]),fill:"blue",line:!0,shape:"circle"}),Object(h.jsx)(I.a,{name:"Attribute II",data:n(t[1]),fill:"purple",line:!0,shape:"circle"}),Object(h.jsx)(I.a,{name:"Attribute III",data:n(t[2]),fill:"orange",line:!0,shape:"circle"})]})})},L=n(318),P=n.n(L),_=function(e){var t=e.dataColumns,n=Object(a.useState)([]),c=Object(b.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)([]),i=Object(b.a)(o,2),u=i[0],l=i[1],j=Object(a.useState)([]),d=Object(b.a)(j,2),f=d[0],O=d[1];Object(a.useEffect)((function(){0!==u.length&&(console.log(u),O(function(){var e=[];return Object.entries(u[0]).map((function(t){e.push({title:t[0],field:t[0]})})),e.pop(),e}()))}),[u]),Object(a.useEffect)((function(){0!==f.length&&console.log(f)}),[f]),Object(a.useEffect)((function(){if(0!==s.length){var e=[],t=[],n=1;s[0][1].forEach((function(){t.push(100*n),n++})),s.forEach((function(n){e.push(function(e,t){var n={};n.Attribute=e[0];var a=0;return t.forEach((function(t){n["Timestep        ".concat(t)]=e[1][a],a++})),n}(n,t))})),l(e)}}),[s]),Object(a.useEffect)((function(){0!==Object.keys(t).length&&p(t)}),[t]);var p=function(e){var t=[],n=[];for(var a in e)n.push([a,e[a]]);n.forEach((function(e){t.push(m(e))})),r(t)},m=function(e){var t=[],n=[],a=0;return n.push(e[0]),e[1].forEach((function(e){a%100===0&&t.push(e),a++})),n.push(t),n};return Object(h.jsx)("div",{style:{width:1e3,height:365},className:"DataTable",children:Object(h.jsx)(P.a,{title:"Data Report",data:u,columns:f})})},J=function(e){var t=e.anomalyReport;return Object(h.jsxs)("div",{className:"Anomaly",children:[Object(h.jsxs)("h4",{children:["Description: ",t.description]}),Object(h.jsxs)("p",{children:["Start: ",t.anomalyStart]}),Object(h.jsxs)("p",{children:["End: ",t.anomalyEnd]})]})},K=function(e){var t=e.anomalyReports;return Object(h.jsx)("div",{className:"AnomalyList",children:t.map((function(e,t){return Object(h.jsx)(J,{anomalyReport:e},t)}))})};var U=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(b.a)(s,2),l=(r[0],r[1]),f=Object(a.useState)({}),O=Object(b.a)(f,2),p=O[0],m=O[1],v=Object(a.useState)({}),x=Object(b.a)(v,2),y=x[0],N=x[1],T=Object(a.useState)([]),M=Object(b.a)(T,2),S=M[0],C=M[1],w=Object(a.useState)([]),E=Object(b.a)(w,2),R=E[0],B=E[1],k=Object(a.useState)(!1),F=Object(b.a)(k,2),I=F[0],L=F[1];Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){0!==R.length&&L(!0)}),[R]),Object(a.useEffect)((function(){P(p)}),[p]);var P=function(e){var t=[];if(0!==Object.keys(e).length){for(var n in e.data[0])t.push(n);var a=t.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(i.a)({},t,[]))}),{});e.data.forEach((function(e){for(var t in e)a[t].push(e[t])})),N(a)}},J=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/models");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.predict_data=y,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=4,fetch("/api/models/update",n);case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(D,{dataColumns:y,addGraphData:function(e){C(e)}}),Object(h.jsx)(G,{displayGraphData:S,dataColumns:y}),Object(h.jsx)(_,{dataColumns:y}),Object(h.jsx)(A,{models:n,addModel:function(e){e.train_data=y;var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/api/models/add",t),c([].concat(Object(o.a)(n),[e]))},addFile:function(e){l(e);var t=new FileReader;t.readAsText(e[0]),t.onload=function(){t.result&&m(Object(g.parse)(t.result,{header:!0}))}},testModel:U,activateAnomalies:function(e){B(e)},closeA:function(){console.log("closeA"),L(!1)}}),Object(h.jsx)("div",{className:"Anomlies",children:I&&Object(h.jsx)(K,{anomalyReports:R})})]})},q=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,1110)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(U,{})}),document.getElementById("root")),q()}},[[702,1,2]]]);
//# sourceMappingURL=main.a5d3a4c9.chunk.js.map